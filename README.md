# WarGame

## 概要

これは、トランプゲーム「戦争 (War)」をオブジェクト指向プログラミング基づいて実装したプログラムです。
プレイヤーは手札からカードを出し合い、数字（ランク）の強さで勝負します。
最終的に最も多くのカードを集めたプレイヤーが勝利となります。
このプログラムOOPの概念（クラス、オブジェクト、カプセル化、継承、ポリモーフィズムなど）を実践的に学ぶことを目的としています。

## ゲームルール

### 1. 準備
*   **使用カード:** 標準的な53枚のトランプカードを使用します（ジョーカーも含む）。
*   **プレイヤー人数:** 2人から5人までプレイ可能です。
*   **カード配布:**
    *   ゲーム開始時にカードをよくシャッフルします。
    *   全プレイヤーにカードが均等になるように、1枚ずつ裏向きで配りきります。これが各プレイヤーの初期**手札 (Hand)** となります。
        *   カードが均等に配りきれない場合、余ったカードは使用しません。
    *   配られた手札は、各プレイヤーが裏向きの山札として自分の前に置きます。

### 2. ゲーム進行
*   **ラウンド開始:** 「戦争！」の掛け声とともに、全プレイヤーは同時に、自分の手札の山の一番上のカードを1枚めくり、**場** に表向きに出します。
*   **勝敗判定:**
    *   場に出されたカードの数字（ランク）を比較します。
    *   カードの強さは、 **JOKER (最強) > A　> K > Q > J > 10 > 9 > 8 > 7 > 6 > 5 > 4 > 3 > 2 (最弱)** の順です。スート（マーク）は勝敗に関係しません。(Aで引き分けとなった際のみスペードのAを持ってるプレイヤーの勝利となります。)
    *   最も強いランクのカードを出したプレイヤーが、そのラウンドの勝者となります。
*   **カードの獲得:**
    *   ラウンドの勝者は、場に出されたすべてのカード（全員が出したカード）を獲得します。
    *   獲得したカードは、自分の手札とは別に、**獲得札置き場** にまとめて裏向きで置いておきます（すぐに手札には加えません）。
*   **「戦争」（引き分けの場合）:**
    *   場に出されたカードの中で、最も強いランクのカードが複数枚あった場合、再び「戦争」が発生します。
    *   そして最も強いカードを出したプレイヤーが、**その戦争で場に出たすべてのカード**をまとめて獲得します。
    *   もし、この勝負札でも再びランクが同じで引き分けになった場合は、勝者が決まるまで同様の手順を繰り返します。
    *   戦争の途中で手札が足りなくなったプレイヤーは、その戦争から脱落します（残りのプレイヤーで勝負を続けます）。
*   **手札の補充:** プレイヤーは、ラウンドの開始時または戦争の途中で自分の手札（山札）が0枚になった場合、それまでに獲得した**獲得札置き場** のカード全てをよくシャッフルし、それを新しい手札とします。

### 3. ゲーム終了
*   いずれかのプレイヤーの手札（山札）が0枚になり、**かつ獲得札置き場にも補充するカードがない**状態になった時点でゲーム終了となります（つまり、次のカードを出せないプレイヤーが出た時点）。
*   **最終的な勝敗:** ゲーム終了時に、各プレイヤーが持っている**手札と獲得札の合計枚数**を比較し、最も多いプレイヤーから順に1位、2位...と順位を決定します。


## 実行方法

### 前提条件
*   **Ruby** がインストールされていること。
    *   ターミナル（またはコマンドプロンプト）で `ruby -v` を実行して確認できます。

### 実行コマンド

1.  このプロジェクトのファイルが置かれているディレクトリにターミナル（コマンドプロンプト）で移動します。
    ```bash
    cd "このプロジェクトが置かれてるディレクトリ"
    ```
2.  以下のコマンドを実行して、ゲームを開始します。
    ```bash
    ruby WarGame.rb
    ```

実行後、プログラムはプレイヤー人数の入力を促し、自動的にゲームが進行します。各ラウンドの結果や最終的な勝敗が表示されます。
